@page
@model ErrorModel
@{
    ViewData["Title"] = "Error";
}

<div class="modern-card" style="max-width: 600px; margin: 2rem auto; text-align: center;">
    <div class="modern-card-header">
        <svg width="64" height="64" fill="currentColor" viewBox="0 0 20 20" style="color: #e53e3e; margin-bottom: 1rem;">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
        </svg>
        <h1 class="modern-card-title" style="color: #e53e3e; margin-bottom: 0.5rem;">Oops! Something went wrong</h1>
        <p style="color: #718096; margin: 0;">We encountered an error while processing your request.</p>
    </div>

    @if (Model.ShowRequestId)
    {
        <div class="modern-alert modern-alert-info" style="margin: 1.5rem 0; text-align: left;">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
            </svg>
            <div>
                <strong>Request ID:</strong> <code style="background: #f7fafc; padding: 0.25rem 0.5rem; border-radius: 4px; font-family: monospace;">@Model.RequestId</code>
                <br><small>Please include this ID when reporting the issue.</small>
            </div>
        </div>
    }

    <div style="margin: 2rem 0;">
        <a href="/" class="modern-btn modern-btn-primary">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M9.707 14.707a1 1 0 01-1.414 0L3 9.414V13a1 1 0 11-2 0V8a1 1 0 011-1h5a1 1 0 110 2H3.414l5.293 5.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
            </svg>
            Return to Home
        </a>
        <button onclick="history.back()" class="modern-btn modern-btn-secondary" style="margin-left: 1rem;">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0L1 9.414V13a1 1 0 11-2 0V8a1 1 0 011-1h5a1 1 0 110 2H1.414l5.293 5.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
            </svg>
            Go Back
        </button>
    </div>

    @if (Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") == "Development")
    {
        <div class="modern-alert modern-alert-warning" style="text-align: left; margin-top: 2rem;">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
            <div>
                <strong>Development Mode Notice</strong>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">
                    This application is running in Development mode. Detailed error information is available for debugging purposes.
                    <strong>This should not be enabled in production</strong> as it may expose sensitive information.
                </p>
            </div>
        </div>
    }
</div>
